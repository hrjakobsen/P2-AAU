\section{Decoding of the Message}
To find the encoded text using the Graph-Theoretic Approach, the first step is to read in the Huffman tables from the JPEG-file, making it possible to look up the code written in the scan-data session of the file. 
\input{sections/design/FindHuffmanTable.tex}
As explained in section \ref{sec:graphJPEG}, the hidden message will be hidden in pairs of two quantized values in a certain modulo.
To get the data out, we would have to first read the first 16 AC values that are not 0, in order to find what modulo the message is hidden with, and the length of the message, to not decode the whole image, and to give back the actual message as an output.
Finding the length of message, as well as the value of modulo, requires you to decode the scan data as follows
\begin{enumerate}
	\item Read in 1 Huffman DC element for the Y channel
	\item Read in 63 Huffman AC elements for the Y channel, or until EOB
	\item Repeat step 1 and 2, three more times
	\item Read in 1 Huffman DC element for the cb channel
	\item Read in 63 Huffman AC elements for the cb channel, or until EOB
	\item Read in 1 Huffman DC element for the cr channel
	\item Read in 63 Huffman AC elements for the cr channel, or until EOB
\end{enumerate}
These values will have to be read into an array in zig-zag ordering.
Once that's done, and at least 16 values that are not 0 has been read, it's possible to find the length by doing the following
\begin{enumerate}
	\item Bitshift a variable which starts being equal to 0, two times to the left
	\item Add two elements together
	\item Take modulo 4 of the result
	\item Add the result to the variable mentioned in step one
	\item Repeat steps 1-4 six more times
\end{enumerate}
The value of modulo is hidden within the remaining two values, which can be found by doing steps 2 and 3. This value however, will just tell us what value modulo should be, thus we will need to implement a switch, which assigns the right value for the modulo variable.
The possible values will be as follows
\begin{itemize}
	\item 0. Value of modulo is 2
	\item 1. Value of modulo is 4
	\item 2. Value of modulo is 16
	\item 3. Value of modulo is 256
\end{itemize}
Once the length has been found, we can keep decoding the scan data segment until enough AC coefficient has been read to decode the full message, using the module value we just found.
When enough values has been read, the decoding process of the message is the same as listed earlier, except the value of modulo may be different. 
Each letter will then have to be written to an array and returned to the user, since this array, will contain the message that was encoded in the JPEG picture.